(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"a",function(){return N});var a=n(17),r=n(20),i=n(18),c=n(1),o=n.n(c),u=n(2),l=n(28),s=n(42),d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=function(e,t){return Object(i.a)({},e,{id:e,initial:"notSelected",states:{notSelected:{entry:["toggle".concat(d(e))],on:Object(i.a)({},t,{target:"selected"})},selected:{entry:["toggle".concat(d(e))],on:Object(i.a)({},t,{target:"notSelected"})}}})},m={id:"feedbackTypes",type:"parallel",states:Object(r.a)({},g("needHelp","TOGGLE_NEED_HELP"),g("unexpectedBehavior","TOGGLE_UNEXPECTED_BEHAVIOR"),g("docsIssue","TOGGLE_DOCS_ISSUE"),g("somethingElse","TOGGLE_SOMETHING_ELSE"))},p=Object(u.b)({type:function(e){return Object(r.a)({},e.type,{needHelp:!e.type.needHelp})}}),h=Object(u.b)({type:function(e){return Object(r.a)({},e.type,{unexpectedBehavior:!e.type.unexpectedBehavior})}}),f=Object(u.b)({type:function(e){return Object(r.a)({},e.type,{docsIssue:!e.type.docsIssue})}}),E=Object(u.b)({type:function(e){return Object(r.a)({},e.type,{somethingElse:!e.type.somethingElse})}}),b={id:"comment",initial:"placeholder",type:"compound",states:{placeholder:{on:{SET_COMMENT_TEXT:{target:"showingText",actions:"setCommentText"}}},showingText:{on:{SET_COMMENT_TEXT:{actions:"setCommentText"}}}}},v={id:"screenshot",initial:"previewing",type:"compound",states:{hidden:{on:{TOGGLE_INCLUDE_SCREENSHOT:{target:"previewing",actions:"toggleIncludeScreenshot"},SET_SCREENSHOT:{actions:"setScreenshot"}}},previewing:{on:{TOGGLE_SCREENSHOT_ANNOTATOR:"annotating",TOGGLE_INCLUDE_SCREENSHOT:{target:"hidden",actions:"toggleIncludeScreenshot"}}},annotating:{on:{TOGGLE_SCREENSHOT_ANNOTATOR:"previewing",SAVE_SCREENSHOT_ANNOTATIONS:{target:"previewing"}}}}},O={id:"feedbackWidget",initial:"hasNoRating",context:{includeScreenshot:!0,screenshot:null,helpful:"",comment:"",modal:{isOpen:!0},type:{needHelp:!1,unexpectedBehavior:!1,docsIssue:!1,somethingElse:!1}},on:{OPEN_MODAL:{actions:function(e,t){return e.modal.isOpen=!0}},CLOSE_MODAL:{target:"hasNoRating",actions:function(e,t){return e.modal.isOpen=!1}}},states:{hasNoRating:{on:{RATE_YES:{target:"hasRating",actions:"rateYes"},RATE_YES_BUT:{target:"hasRating",actions:"rateYesBut"},RATE_NO:{target:"hasRating",actions:"rateNo"}}},hasRating:{initial:"unknown",states:{unknown:{entry:function(e,t){return e.modal.isOpen=!0},on:{"":[{target:"positive",cond:"isPositiveRating"},{target:"negative",cond:"isNegativeRating"}]}},positive:{id:"positiveRating",type:"parallel",states:{comment:b,screenshot:v}},negative:{id:"negativeRating",type:"parallel",states:{types:m,comment:b,screenshot:v}}}}}},x=Object(u.b)({modal:{isOpen:!0}}),y=Object(u.b)({includeScreenshot:function(e,t){return!e.includeScreenshot}}),w=Object(u.b)({screenshot:function(e,t){return t.screenshot}}),T=Object(u.b)({helpful:"yes"}),S=Object(u.b)({helpful:"yesbut"}),j=Object(u.b)({helpful:"no"}),_=Object(l.a)(O,{actions:{openModal:x,rateYes:T,rateYesBut:S,rateNo:j,toggleIncludeScreenshot:y,setScreenshot:w,setCommentText:function(e,t){e.comment=t.text},toggleNeedHelp:p,toggleUnexpectedBehavior:h,toggleDocsIssue:f,toggleSomethingElse:E},guards:{isPositiveRating:function(e,t){return["yes"].includes(e.helpful)},isNegativeRating:function(e,t){return["yesbut","no"].includes(e.helpful)}}}),C=o.a.createContext();function k(){var e=o.a.useContext(C);if(!e)throw new Error("You can only call useWidgetState() inside of a WidgetProvider.");return e}function N(e){var t=Object(s.useMachine)(_),n=Object(a.a)(t,2),r={state:n[0],send:n[1]};return o.a.createElement(C.Provider,{value:r},e.children)}},19:function(e,t,n){"use strict";var a=n(5),r=n(1),i=n.n(r),c=n(6),o=n(12);function u(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: 1em;\n\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 1em;\n"]);return u=function(){return e},e}function l(){var e=Object(a.a)(["\n  width: 100%;\n  font-weight: lighter;\n  text-align: center;\n  margin: 0;\n"]);return l=function(){return e},e}function s(){var e=Object(a.a)(["\n  width: 360px;\n  display: flex;\n  flex-direction: column;\n  background: white;\n  padding: 12px;\n"]);return s=function(){return e},e}function d(){var e=Object(a.a)(["\n  background-image: none;\n  text-align: center;\n  padding: 6px;\n  border-radius: 4px;\n"]);return d=function(){return e},e}function g(e){var t=Object(o.b)(),n=(t.state,t.send);return i.a.createElement(p,null,i.a.createElement(h,null,"Was this page helpful?"),i.a.createElement(f,null,i.a.createElement(m,{onClick:function(){return n("RATE_YES")}},"YES"),i.a.createElement(m,{onClick:function(){return n("RATE_YES_BUT")}},"YES, BUT"),i.a.createElement(m,{onClick:function(){return n("RATE_NO")}},"NO")))}var m=c.a.button(d()),p=c.a.div(s()),h=c.a.h2(l()),f=c.a.div(u()),E=n(9),b=n.n(E),v=n(14),O=n(17),x=n(15),y=n(44),w=n.n(y),T=n(45),S=n(46),j=n(47),_=n.n(j),C=function(){function e(t){var n=t.image,a=t.format;Object(T.a)(this,e),this.format=a,this.dataUrl=n,this.imageEl=null}return Object(S.a)(e,[{key:"toImage",value:function(){var e=this;return new Promise(function(t,n){if(e.imageEl)t(e.imageEl);else{var a=new Image;a.src=e.dataUrl,a.onerror=n,a.onload=function(){e.imageEl=a,t(a)}}})}},{key:"toCanvasElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;console.log("converting to canvas of size: ".concat(t,"x").concat(n));var a=document.createElement("canvas"),r=a.getContext("2d");return t&&(r.canvas.width=t),n&&(r.canvas.height=n),[a,r]}},{key:"crop",value:function(){var e=Object(v.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"scale",value:function(){var e=Object(v.a)(b.a.mark(function e(t){var n,a,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toImage();case 2:return n=e.sent,a=n.width*t,r=n.height*t,e.next=7,this.resize({width:a,height:r});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"scaleDownToFit",value:function(){var e=Object(v.a)(b.a.mark(function e(t){var n,a,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,a=t.height,e.next=3,this.toImage();case 3:return r=e.sent,n=n||r.width,a=a||r.height,i=Math.min(n/r.width,a/r.height),e.abrupt("return",this.scale(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resize",value:function(){var t=Object(v.a)(b.a.mark(function t(n){var a,r,i,c,o,u;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.width,r=n.height,t.next=3,this.toImage();case 3:return i=t.sent,a=a||i.width,r=r||i.height,c=this.toCanvasElement({width:a,height:r}),o=Object(O.a)(c,2),u=o[0],o[1].drawImage(i,0,0,a,r),t.abrupt("return",new e({image:u.toDataURL("image/png"),format:"png"}));case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}],[{key:"ofElement",value:function(){var t=Object(v.a)(b.a.mark(function t(n){var a,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelector(n),t.next=3,_.a.toPng(a);case 3:return r=t.sent,t.abrupt("return",new e({image:r,format:"png"}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}]),e}(),k=n(48),N=n.n(k);function R(){var e=Object(a.a)(["\n  color: ",";\n  font-size: 16px;\n"]);return R=function(){return e},e}function I(){var e=Object(a.a)(["\n    margin-block-start: 0.5em;\n    width: 100%;\n    background-color: ",";\n    background-color: #d4d8d8;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: ",";\n    border-radius: 4px;\n  "]);return I=function(){return e},e}function G(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  & span {\n    margin-left: 12px;\n  }\n"]);return G=function(){return e},e}function L(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n"]);return L=function(){return e},e}function H(e){var t=Object(o.b)(),n=t.state,a=t.send,c=n.context,u=c.screenshot,l=c.includeScreenshot,s=Object(r.useState)(),d=Object(O.a)(s,2),g=d[0],m=d[1],p=l&&!u;return Object(r.useEffect)(function(){if(l)return function(){var e=Object(v.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.ofElement("#root");case 2:return t=e.sent,e.next=5,t.scaleDownToFit({width:356,height:300});case 5:n=e.sent,a({type:"SET_SCREENSHOT",screenshot:t}),m(n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){a({type:"SET_SCREENSHOT",screenshot:null}),m(null)}},[l,a]),i.a.createElement(A,null,i.a.createElement(D,null,i.a.createElement(w.a,{size:"small",onChange:function(){return a("TOGGLE_INCLUDE_SCREENSHOT")},checked:l}),i.a.createElement("span",null,"Include a screenshot of this page")),i.a.createElement(M,{image:g,isLoading:p}))}var A=c.a.div(L()),D=c.a.div(G()),M=function(e){var t=e.isLoading,n=e.image,a=c.a.div(I(),x.uiColors.gray.light1,t?"300px":"0px");return i.a.createElement(a,null,n?i.a.createElement("img",{alt:"screenshot",src:n.dataUrl}):i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null,"Generating Screenshot"),i.a.createElement(N.a,{type:"ThreeDots",color:x.uiColors.white,height:"60"})))},U=c.a.span(R(),x.uiColors.white),B=n(31),P=n.n(B);n(29);function Y(){var e=Object(a.a)(["\n  resize: none;\n  box-sizing: border-box;\n  height: 140px;\n  padding: 14px;\n  min-width: 100%;\n  max-width: 100%;\n  margin-top: 12px;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n  font-size: 16px;\n  line-height: 24px;\n  border-radius: 4px;\n  border-color: rgba(0, 0, 0, 0.5);\n"]);return Y=function(){return e},e}var z=Object(c.a)("textarea")(Y());function X(){var e=Object(a.a)(["\n  border-radius: 4px;\n  padding: 12px;\n  background-image: none;\n  background: ",";\n  box-shadow: ",";\n"]);return X=function(){return e},e}function V(){var e=Object(a.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 12px;\n  margin-top: 12px;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n"]);return V=function(){return e},e}function W(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return W=function(){return e},e}function F(){var e=Object(a.a)(["\n  margin-block-start: 0.5em;\n  margin-block-end: 0.35em;\n  font-weight: lighter;\n"]);return F=function(){return e},e}function J(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return J=function(){return e},e}function q(e){var t=Object(o.b)(),n=t.state,a=t.send;return i.a.createElement(K,null,n.matches("hasRating.positive")&&i.a.createElement(i.a.Fragment,null,i.a.createElement(z,{placeholder:"Tell us more...",value:n.context.comment,onChange:function(e){return a({type:"SET_COMMENT_TEXT",text:e.target.value})}}),i.a.createElement(H,null),i.a.createElement(Z,null,i.a.createElement("span",null,"Need support? Visit our"," ",i.a.createElement("a",{href:"https://support.mongodb.com/welcome"},"help center"),"."),i.a.createElement(P.a,{variant:"primary"},"Submit"))),n.matches("hasRating.negative")&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,null,"What seems to be the issue?"),i.a.createElement(te,null),i.a.createElement(Q,null,"Help us improve by telling us more"),i.a.createElement(z,{placeholder:"Please tell us about the issue(s) that you encountered here. Try to include specific details to help us improve our documentation.",value:n.context.comment,onChange:function(e){return a({type:"SET_COMMENT_TEXT",text:e.target.value})}}),i.a.createElement(H,null),i.a.createElement(Z,null,i.a.createElement("span",null,"Need support? Visit our"," ",i.a.createElement("a",{href:"https://support.mongodb.com/welcome"},"help center"),"."),i.a.createElement(P.a,{variant:"primary"},"Submit"))))}var K=c.a.div(J()),Q=c.a.h3(F()),Z=c.a.div(W()),$=c.a.div(V()),ee=c.a.button(X(),function(e){return e.isSelected?x.uiColors.green.light2:x.uiColors.white},function(e){return e.isSelected?"0 0 0 2px ".concat(x.uiColors.green.base):"0 0 0 1px rgba(0, 0, 0, 0.5)"}),te=function(e){var t=Object(o.b)(),n=t.state,a=t.send,r=n.value.hasRating.negative.types,c=r.needHelp,u=r.unexpectedBehavior,l=r.docsIssue,s=r.somethingElse,d=function(e){return"selected"===e};return i.a.createElement($,null,i.a.createElement(ee,{isSelected:d(c),onClick:function(){return a("TOGGLE_NEED_HELP")}},"This page wasn't what I expected"),i.a.createElement(ee,{isSelected:d(u),onClick:function(){return a("TOGGLE_UNEXPECTED_BEHAVIOR")}},"I'm having trouble using the product"),i.a.createElement(ee,{isSelected:d(l),onClick:function(){return a("TOGGLE_DOCS_ISSUE")}},"This page is wrong or unclear"),i.a.createElement(ee,{isSelected:d(s),onClick:function(){return a("TOGGLE_SOMETHING_ELSE")}},"Something else"))};n.d(t,"a",function(){return g}),n.d(t,"b",function(){return q})},39:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n(5),r=n(1),i=n.n(r),c=n(6),o=n(19),u=n(29),l=n.n(u),s=n(12),d=n(49),g=n.n(d);function m(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return m=function(){return e},e}function p(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  & h2 {\n    margin: 0 auto 0 0;\n  }\n"]);return p=function(){return e},e}function h(){var e=Object(a.a)(["\n  border-radius: 4px;\n  box-shadow: 0 16px 60px 0 rgba(86, 91, 115, 0.2);\n  display: flex;\n  flex-direction: column;\n  padding: 24px;\n  background: white;\n  min-width: 420px;\n  font-family: sans-serif;\n"]);return h=function(){return e},e}function f(){var e=Object(a.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  background: lightgrey;\n"]);return f=function(){return e},e}var E={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:0}};function b(){var e=Object(s.b)(),t=e.state,n=e.send;console.log("state",t);var a=function(){return n("CLOSE_MODAL")};return i.a.createElement(v,null,!t.context.modal.isOpen&&i.a.createElement(o.a,null),i.a.createElement(g.a,{contentLabel:"Example Modal",appElement:document.getElementById("root"),isOpen:t.context.modal.isOpen,style:E},i.a.createElement(O,null,i.a.createElement(x,null,i.a.createElement("h2",null,t.matches("hasRating.positive")&&"We're glad to hear that!",t.matches("hasRating.negative")&&"Sorry to hear that."),i.a.createElement(l.a,{glyph:"X",size:"large",onClick:function(){t.matches("hasNoRating")&&a(),t.matches("hasRating")&&a()}})),i.a.createElement(y,null,t.matches("hasNoRating")&&i.a.createElement(o.a,null),t.matches("hasRating")&&i.a.createElement(o.b,null)))))}var v=c.a.div(f()),O=c.a.div(h()),x=c.a.div(p()),y=c.a.div(m())},50:function(e,t,n){e.exports=n(51)},51:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",function(){return s});var a=n(1),r=n.n(a),i=n(27),c=n.n(i),o=n(39),u=n(12),l=n(19);function s(){return r.a.createElement(u.a,null,r.a.createElement(o.a,null))}e.exports={AskingHelpfulView:l.a};var d=document.getElementById("root");c.a.render(r.a.createElement(s,null),d)}.call(this,n(52)(e))}},[[50,1,2]]]);
//# sourceMappingURL=main.baaa32dd.chunk.js.map